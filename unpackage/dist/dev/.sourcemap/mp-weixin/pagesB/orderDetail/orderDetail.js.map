{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Desktop/毕业设计/在线买菜小程序/shopping/pagesB/orderDetail/orderDetail.vue?f790","webpack:///D:/Desktop/毕业设计/在线买菜小程序/shopping/pagesB/orderDetail/orderDetail.vue?ffa9","webpack:///D:/Desktop/毕业设计/在线买菜小程序/shopping/pagesB/orderDetail/orderDetail.vue?de5b","webpack:///D:/Desktop/毕业设计/在线买菜小程序/shopping/pagesB/orderDetail/orderDetail.vue?ba27","uni-app:///pagesB/orderDetail/orderDetail.vue","webpack:///D:/Desktop/毕业设计/在线买菜小程序/shopping/pagesB/orderDetail/orderDetail.vue?668f","webpack:///D:/Desktop/毕业设计/在线买菜小程序/shopping/pagesB/orderDetail/orderDetail.vue?adff"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","orderId","orderInfo","orderGoods","drawbackShow","pickerShow","drawItem","drawbackKeywords","drawbackGoods","id","drawback","drawbackPrice","drawbackCause","drawbackMessage","drawbackPhoto","onLoad","onPullDownRefresh","console","uni","onReady","onShow","onHide","onUnload","methods","getOrderDetail","title","setTimeout","req","that","getOrderStatus","goDrawback","close","getDrawbackKeyword","value","afterRead","lists","i","res","uploadFilePromise","url","filePath","name","header","success","resolve","deletePic","event","index","result","key","confirm","drawbackButton","icon","isAllRight"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,oBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwH;AACxH;AAC+D;AACL;AACa;;;AAGvE;AACyM;AACzM,gBAAgB,yMAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,sFAAM;AACR,EAAE,+FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,+TAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChFA;AAAA;AAAA;AAAA;AAAsyB,CAAgB,iwBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACoI1zB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAAA,eAEA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;EACA;EACAC;IACAC;IACAC;;IAEA;IACAA;;IAEAA;EACA;;EACAC;IACA;IACA;EAAA,CACA;EACAC;IACA;IACA;EAAA,CACA;EACAC;IACA;IACA;EAAA,CACA;EACAC;IACA;IACA;EAAA,CACA;EACAC;IACAC;MACAN;QACAO;MACA;MACAC;QACAR;MACA;MACA;MACA;QACAT;MACA;MACAkB;QACA;UACAV;UACAW;UACAA;QACA;UACAX;QACA;QACAC;MACA;QACAD;MACA;IACA;IACAY;MACA;QACA;UACA;QACA;UACA;QACA;UACA;QACA;UACA;QACA;UACA;QACA;UACA;QACA;UACA;QACA;UACA;QACA;UACA;QACA;UACA;QACA;UACA;QACA;UACA;MAAA;IAEA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACAL;QAAAM;MAAA;QACAhB;QACAW;MACA;QACAX;MACA;IACA;IACA;IACAiB;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAN,cACA;gBACAO,+BACA;gBACAC;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACAR;kBACAS;kBACA;oBACA;sBACAT;oBACA;oBACAA;oBACAX;oBACAW;kBACA;oBACAX;kBACA;gBACA;cAAA;gBAbAmB;gBAAA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAeA;IACAE;MACA;QACApB;UACAqB;UACAC;UACAC;UACAC;YACA;YACA;UACA;UACAC;YACAC;UACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA5B;gBACAmB;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;gBAAA,MACAU;kBAAA;kBAAA;gBAAA;gBACA;gBACA;gBACAC;gBACAC;gBACA/B;gBACAU;kBAAAsB;gBAAA;gBAAA;cAAA;gBAPAb;gBAAA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAYA;IACAc;MACAjC;MACA;MACA;IACA;IACA;IACAkC;MACA;MACAvB;MACA;MACA;QACAX;QACAU;UACA;YACAT;cACAO;cACA2B;YACA;YACAxB;YACAA;YACAA;YACAA;YACAA;UACA;YACAV;cACAO;cACA2B;YACA;UACA;QACA;UACAnC;QACA;MACA;QACAC;UACAO;UACA2B;QACA;MACA;IACA;IACAC;MACA;QACA;MACA;MACA;QACA;MACA;MACA;QACA;MACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC/WA;AAAA;AAAA;AAAA;AAAqoC,CAAgB,8iCAAG,EAAC,C;;;;;;;;;;;ACAzpC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pagesB/orderDetail/orderDetail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pagesB/orderDetail/orderDetail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./orderDetail.vue?vue&type=template&id=2d83346c&\"\nvar renderjs\nimport script from \"./orderDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./orderDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./orderDetail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesB/orderDetail/orderDetail.vue\"\nexport default component.exports","export * from \"-!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderDetail.vue?vue&type=template&id=2d83346c&\"","var components\ntry {\n  components = {\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-button/u-button\" */ \"@/uni_modules/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-popup/u-popup\" */ \"@/uni_modules/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    \"u-Input\": function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u--input/u--input\" */ \"@/uni_modules/uview-ui/components/u--input/u--input.vue\"\n      )\n    },\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uPicker: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-picker/u-picker\" */ \"@/uni_modules/uview-ui/components/u-picker/u-picker.vue\"\n      )\n    },\n    \"u-Textarea\": function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u--textarea/u--textarea\" */ \"@/uni_modules/uview-ui/components/u--textarea/u--textarea.vue\"\n      )\n    },\n    uUpload: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-upload/u-upload\" */ \"@/uni_modules/uview-ui/components/u-upload/u-upload.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.getOrderStatus(_vm.orderInfo.orderStatus)\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.pickerShow = true\n    }\n    _vm.e1 = function ($event) {\n      _vm.pickerShow = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderDetail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"order-info\">\r\n\t\t\t<view class=\"orderStatus\">{{getOrderStatus(orderInfo.orderStatus)}}</view>\r\n\t\t\t<view class=\"orderStatusTxt\">订单状态</view>\r\n\t\t</view>\r\n\r\n\t\t<!--订单商品-->\r\n\t\t<view class=\"order-goods\">\r\n\t\t\t<view class=\"orderNumber\">共{{orderInfo.num}}件商品</view>\r\n\t\t\t<view class=\"goods\">\r\n\t\t\t\t<view class=\"item\" v-for=\"(item, index) in orderGoods\" :key=\"item.id\">\r\n\t\t\t\t\t<view class=\"img\">\r\n\t\t\t\t\t\t<image :src=\"item.picUrl\" background-size=\"contain\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"info\">\r\n\t\t\t\t\t\t<navigator :url=\"'/pagesB/goodshop/goodshop?goodsSn=' + item.goodsSn\">\r\n\t\t\t\t\t\t\t<text class=\"t\">{{ item.goodsName }}</text>\r\n\t\t\t\t\t\t\t<view class=\"b\">\r\n\t\t\t\t\t\t\t\t<text class=\"price\">￥{{ item.price }}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"number\">x {{ item.number }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</navigator>\r\n\t\t\t\t\t\t<view v-if=\"item.drawback == 0 || item.drawback == 3\" style=\"width: 150rpx;margin-left: auto;margin-top: 20rpx;\">\r\n\t\t\t\t\t\t\t<u-button color=\"#122047\" plain=\"true\"  @click=\"goDrawback(item)\"\r\n\t\t\t\t\t\t\t\tsize=\"small\" text=\"申请退款\">\r\n\t\t\t\t\t\t\t</u-button>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"item.drawback == 1 \" style=\"width: 150rpx;margin-left: auto;margin-top: 20rpx;\">\r\n\t\t\t\t\t\t\t<text style=\"color: chocolate;\" >已退款</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"item.drawback == 2 \" style=\"width: 150rpx;margin-left: auto;margin-top: 20rpx;\">\r\n\t\t\t\t\t\t\t<text style=\"color: chocolate;\" >正在申请退款</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!--订单底部-->\r\n\t\t\t<view class=\"order-bottom\">\r\n\t\t\t\t<view class=\"total\">\r\n\t\t\t\t\t<view class=\"t\">\r\n\t\t\t\t\t\t<text class=\"label\">商品金额</text>\r\n\t\t\t\t\t\t<text class=\"txt\">￥{{ orderInfo.goodsPrice }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"t\">\r\n\t\t\t\t\t\t<text class=\"label\">运费金额</text>\r\n\t\t\t\t\t\t<text class=\"txt\">￥{{ orderInfo.freightPrice }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"t\">\r\n\t\t\t\t\t\t<text class=\"label\">优惠金额</text>\r\n\t\t\t\t\t\t<text class=\"txt\">-￥{{ orderInfo.couponPrice }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"t\">\r\n\t\t\t\t\t\t<text class=\"label\">实际支付</text>\r\n\t\t\t\t\t\t<text class=\"txt\">￥{{ orderInfo.orderPrice }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"otherInfo\">其他信息</view>\r\n\t\t\t\t<view class=\"total\">\r\n\t\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t\t<text class=\"label\">订单编号</text>\r\n\t\t\t\t\t\t<text class=\"txt\">{{ orderInfo.orderSn }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t\t<text class=\"label\">下单时间</text>\r\n\t\t\t\t\t\t<text class=\"txt\">{{ orderInfo.orderTime }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"title\" style=\"margin-bottom: 100rpx;margin-top: 30rpx;\">\r\n\t\t\t\t\t\t<text class=\"label\">寄件地址</text>\r\n\t\t\t\t\t\t<text class=\"txt\">{{ orderInfo.userName }} {{ orderInfo.mobile }}\r\n\t\t\t\t\t\t\t{{ orderInfo.address }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 商品退款弹框 -->\r\n\t\t<view>\r\n\t\t\t<u-popup :show=\"drawbackShow\" mode=\"center\" @close=\"close\">\r\n\t\t\t\t<view style=\"width: 85vw;padding: 20rpx;\">\r\n\t\t\t\t\t<!-- 商品图片和名称 -->\r\n\t\t\t\t\t<view class=\"drawbackPic\">\r\n\t\t\t\t\t\t<view class=\"img\">\r\n\t\t\t\t\t\t\t<image :src=\"drawItem.picUrl\" class=\"img\" ></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"info\">\r\n\t\t\t\t\t\t\t<text class=\"t\">{{ drawItem.goodsName }}</text>\r\n\t\t\t\t\t\t\t<view class=\"b\">\r\n\t\t\t\t\t\t\t\t<text class=\"price\">￥{{ drawItem.price }}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"number\">x {{ drawItem.number }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 退款金额 -->\r\n\t\t\t\t\t<view style=\"display: flex;margin: 20rpx;\">\r\n\t\t\t\t\t\t<text class=\"title\">退款金额：</text>\r\n\t\t\t\t\t\t<u--input v-model=\"drawbackGoods.drawbackPrice\"  border=\"none\"> ¥</u--input>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 退款原因选择 -->\r\n\t\t\t\t\t<view @click=\"pickerShow = true\" style=\"display: flex;margin: 20rpx;\">\r\n\t\t\t\t\t\t<text class=\"title\">退款原因：</text>\r\n\t\t\t\t\t\t<u--input v-model=\"drawbackGoods.drawbackCause\" disabled disabledColor=\"#ffffff\" placeholder=\"请选择\" border=\"none\"></u--input>\r\n\t\t\t\t\t\t<u-icon slot=\"right\" name=\"arrow-right\"></u-icon>\r\n\t\t\t\t\t\t<u-picker :show=\"pickerShow\" :columns=\"drawbackKeywords\" keyName=\"keyword\" @confirm=\"confirm\" @cancel=\"pickerShow = false\"></u-picker>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 问题描述 -->\r\n\t\t\t\t\t<view style=\"margin: 20rpx;\">\r\n\t\t\t\t\t\t<text style=\"margin-bottom: 20rpx;\">问题描述：</text>\r\n\t\t\t\t\t\t<u--textarea v-model=\"drawbackGoods.drawbackMessage\" placeholder=\"为了帮您更好的解决问题,请详细描述退款原因\"></u--textarea>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 图片 -->\r\n\t\t\t\t\t<view style=\"margin: 20rpx;\">\r\n\t\t\t\t\t\t<text style=\"margin-bottom: 20rpx;\">上传图片：</text>\r\n\t\t\t\t\t\t<view >\r\n\t\t\t\t\t\t\t<u-upload\r\n\t\t\t\t\t\t\t:fileList=\"drawbackGoods.drawbackPhoto\"\r\n\t\t\t\t\t\t\t@afterRead=\"afterRead\"\r\n\t\t\t\t\t\t\t@delete=\"deletePic\"\r\n\t\t\t\t\t\t\tname=\"1\"\r\n\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\t:maxCount=\"10\"\r\n\t\t\t\t\t\t\t></u-upload>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"backButton\"><button @click=\"drawbackButton\">申请退款</button></view>\r\n\t\t\t\t</view>\r\n\t\t\t</u-popup>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\nimport utils from '@/utils/utils.js';\r\n\tconst api = require('@/utils/api.js')\r\n\tconst req = require('@/utils/request.js')\r\n\tconst util = require('@/utils/utils.js')\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\torderId: 0,\r\n\t\t\t\torderInfo: {},\r\n\t\t\t\torderGoods: [],\r\n\t\t\t\tdrawbackShow: false,\r\n\t\t\t\tpickerShow: false,\r\n\t\t\t\tdrawItem:{},\r\n\t\t\t\tdrawbackKeywords: [],\r\n\t\t\t\tdrawbackGoods: {\r\n\t\t\t\t\tid: 0,\r\n\t\t\t\t\tdrawback: 2,\r\n\t\t\t\t\tdrawbackPrice: 0,\r\n\t\t\t\t\tdrawbackCause: '',\r\n\t\t\t\t\tdrawbackMessage: '',\r\n\t\t\t\t\tdrawbackPhoto: []\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad: function(options) {\r\n\t\t\t// 页面初始化 options为页面跳转所带来的参数\r\n\t\t\t// console.log(\"订单详情onLoad\",options);\r\n\t\t\tthis.orderId = options.id\r\n\t\t\tthis.getOrderDetail()\r\n\t\t},\r\n\t\tonPullDownRefresh() {\r\n\t\t\tconsole.log(\"订单详情onPullDownRefresh\");\r\n\t\t\tuni.showNavigationBarLoading(); //在标题栏中显示加载\r\n\r\n\t\t\tthis.getOrderDetail();\r\n\t\t\tuni.hideNavigationBarLoading(); //完成停止加载\r\n\r\n\t\t\tuni.stopPullDownRefresh(); //停止下拉刷新\r\n\t\t},\r\n\t\tonReady: function() {\r\n\t\t\t// 页面渲染完成\r\n\t\t\t// console.log(\"订单详情onReady\");\r\n\t\t},\r\n\t\tonShow: function() {\r\n\t\t\t// 页面显示\r\n\t\t\t// console.log(\"订单详情onShow\");\r\n\t\t},\r\n\t\tonHide: function() {\r\n\t\t\t// 页面隐藏\r\n\t\t\t// console.log(\"订单详情onHide\");\r\n\t\t},\r\n\t\tonUnload: function() {\r\n\t\t\t// 页面关闭\r\n\t\t\t// console.log(\"订单详情onUnload\");\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetOrderDetail() {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载中'\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t}, 2000);\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tvar params ={\r\n\t\t\t\t\tid: that.orderId\r\n\t\t\t\t}\r\n\t\t\t\treq.request(api.OrderDetail, params).then(res=> {\r\n\t\t\t\t\tif (res.errno === 200) {\r\n\t\t\t\t\t\tconsole.log(\"订单详情返回成功结果\",res.data);\r\n\t\t\t\t\t\tthat.orderInfo = res.data\r\n\t\t\t\t\t\tthat.orderGoods = res.data.orderGoodsList\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.log(\"订单详情\",res);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\tconsole.log(\"订单详情\",err);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetOrderStatus(e){\r\n\t\t\t\tswitch (e) {\r\n\t\t\t\t    case 101:\r\n\t\t\t\t\t\treturn \"待支付\";\r\n\t\t\t\t    case 102:\r\n\t\t\t\t\t\treturn \"已取消\";\r\n\t\t\t\t    case 103:\r\n\t\t\t\t\t\treturn \"商家取消\";\r\n\t\t\t\t    case 201:\r\n\t\t\t\t\t\treturn \"待发货\";\r\n\t\t\t\t    case 202:\r\n\t\t\t\t\t\treturn \"申请退款中\";\r\n\t\t\t\t    case 203:\r\n\t\t\t\t\t\treturn \"退款成功\";\r\n\t\t\t\t    case 301:\r\n\t\t\t\t\t\treturn \"已发货\";\r\n\t\t\t\t    case 401:\r\n\t\t\t\t\t\treturn \"已收货\";\r\n\t\t\t\t    case 402:\r\n\t\t\t\t\t\treturn \"系统收货\";\r\n\t\t\t\t    case 501:\r\n\t\t\t\t\t\treturn \"待评价\";\r\n\t\t\t\t\tcase 502:\r\n\t\t\t\t\t\treturn \"已完成\";\r\n\t\t\t\t    default:\r\n\t\t\t\t\t\treturn \"订单错误\";\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 打开退款弹窗\r\n\t\t\tgoDrawback(item){\r\n\t\t\t\tthis.getDrawbackKeyword();\r\n\t\t\t\tthis.drawItem = item\r\n\t\t\t\tthis.drawbackGoods.id = item.id\r\n\t\t\t\tthis.drawbackGoods.drawbackPrice = item.price\r\n\t\t\t\tthis.drawbackShow = true\r\n\t\t\t},\r\n\t\t\tclose() {\r\n\t\t\t\tthis.drawbackShow = false\r\n\t\t\t},\r\n\t\t\tgetDrawbackKeyword() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\treq.request(api.KeywordList,{value: 4}).then(res => {\r\n\t\t\t\t\tconsole.log(\"关键字\",res)\r\n\t\t\t\t\tthat.drawbackKeywords[0] = res.data.list\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log(\"数据接收失败\", err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 上传图片\r\n\t\t\tasync afterRead(event) {\r\n\t\t\t\tlet that = this\r\n\t\t\t\t// 当设置 multiple 为 true 时, file 为数组格式，否则为对象格式\r\n\t\t\t\tlet lists = [].concat(event.file)\r\n\t\t\t\t// 循环上传图片到后端\r\n\t\t\t\tfor (let i = 0; i < lists.length; i++) {\r\n\t\t\t\t\tawait that.uploadFilePromise(lists[i].url).then(res => {\r\n\t\t\t\t\t\tres = JSON.parse(res)\r\n\t\t\t\t\t\tif (res.errno === 200) {\r\n\t\t\t\t\t\t\tif (that.drawbackGoods.drawbackPhoto === undefined) {\r\n\t\t\t\t\t\t\t  that.drawbackGoods.drawbackPhoto = [];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthat.drawbackGoods.drawbackPhoto.push(res.data.url);\r\n\t\t\t\t\t\t\tconsole.log(res.data.url)\r\n\t\t\t\t\t\t\tthat.$forceUpdate();\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tconsole.log(\"上传失败\",res);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tuploadFilePromise: function(url) {\r\n\t\t\t\treturn new Promise(function(resolve, reject) {\r\n\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\turl: api.StorageAdd,\r\n\t\t\t\t\t\tfilePath: url,\r\n\t\t\t\t\t\tname: 'file',\r\n\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\t'ZX-Shopping-Token': uni.getStorageSync('token')\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tresolve(res.data)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 删除图片\r\n\t\t\tasync deletePic(event) {\r\n\t\t\t\tconsole.log('删除',event)\r\n\t\t\t\tfor (let i = 0;i<this.drawbackGoods.drawbackPhoto.length;i++){\r\n\t\t\t\t\tif(event.file == this.drawbackGoods.drawbackPhoto[i]){\r\n\t\t\t\t\t\tthis.drawbackGoods.drawbackPhoto.splice(i, 1)\r\n\t\t\t\t\t\tthis.$forceUpdate();\r\n\t\t\t\t\t\tconst index = event.file.indexOf('fetch/');\r\n\t\t\t\t\t\tconst result = event.file.substring(index + 'fetch/'.length);\r\n\t\t\t\t\t\tconsole.log(result);\r\n\t\t\t\t\t\treq.request(api.StorageDelete,{key:result},'POST')\r\n\t\t\t\t\t\treturn ;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tconfirm(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.drawbackGoods.drawbackCause = e.value[0].keyword\r\n\t\t\t\tthis.pickerShow = false\r\n\t\t\t},\r\n\t\t\t// 提交申请\r\n\t\t\tdrawbackButton(){\r\n\t\t\t\tlet that = this\r\n\t\t\t\tthat.drawbackGoods.drawback = 2\r\n\t\t\t\t//校验信息\r\n\t\t\t\tif (that.isAllRight()){\r\n\t\t\t\t\tconsole.log('drawbackGoods',that.drawbackGoods)\r\n\t\t\t\t\treq.request(api.OrderDrawback,that.drawbackGoods,'POST').then(res => {\r\n\t\t\t\t\t\tif (res.errno === 200){\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '申请退款成功！',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.getOrderDetail()\r\n\t\t\t\t\t\t\tthat.drawbackShow = false\r\n\t\t\t\t\t\t\tthat.drawbackGoods.drawbackCause = ''\r\n\t\t\t\t\t\t\tthat.drawbackGoods.drawbackMessage = ''\r\n\t\t\t\t\t\t\tthat.drawbackGoods.drawbackPhoto = []\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '申请退款失败！',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\tconsole.log(\"请求失败\", err)\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请完善退款信息！',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tisAllRight(){\r\n\t\t\t\tif (this.drawbackGoods.drawbackPrice == 0){\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.drawbackGoods.drawbackCause == ''){\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.drawbackGoods.drawbackMessage == ''){\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t}\r\n\t};\r\n</script>\r\n<style>\r\n\t@import './orderDetail.css';\r\n</style>\n","import mod from \"-!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderDetail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderDetail.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1685600401524\n      var cssReload = require(\"D:/QQ接收文件/HBuilderX3.1.22.20210709/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}